"use strict";(self["webpackChunktask_manager"]=self["webpackChunktask_manager"]||[]).push([[15],{15:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=s(252),i=s(577),d=s(963);const r=t=>((0,a.dD)("data-v-366c2d83"),t=t(),(0,a.Cn)(),t),l={key:0,class:"col s6 offset-s3"},u={class:"input-field"},n=r((()=>(0,a._)("label",{for:"title"},"Название задачи",-1))),h=r((()=>(0,a._)("span",{class:"helper-text","data-error":"Название задачи не может быть пустым"},null,-1))),c={class:"chips",ref:"chips"},o={class:"input-field"},p=r((()=>(0,a._)("label",{for:"descr"},"Textarea",-1))),k={type:"text",ref:"datepicker"},f=r((()=>(0,a._)("button",{type:"submit",class:"btn"},"Обновить задачу",-1))),y={key:1};function m(t,e,s,r,m,_){return _.task?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("h2",null,"Редактирование задачи: "+(0,i.zw)(_.task.title),1),(0,a._)("form",{onSubmit:e[4]||(e[4]=(0,d.iM)(((...t)=>_.updateTask&&_.updateTask(...t)),["prevent"]))},[(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>m.title=t),id:"title",type:"text",class:"validate",required:""},null,512),[[d.nr,m.title]]),n,h]),(0,a._)("div",c,null,512),(0,a._)("div",o,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>m.descr=t),id:"descr",class:"materialize-textarea"},null,512),[[d.nr,m.descr]]),p]),(0,a._)("input",k,null,512),f,(0,a._)("button",{type:"button",class:"btn complite",onClick:e[2]||(e[2]=(...t)=>_.changeStatus&&_.changeStatus(...t))},(0,i.zw)("active"===_.task.status?"Завершить задачу":"Восстановить задачу"),1),(0,a._)("button",{type:"button",class:"btn del",onClick:e[3]||(e[3]=(...t)=>_.deleteTask&&_.deleteTask(...t))},"Удалить задачу")],32)])):((0,a.wg)(),(0,a.iD)("h3",y,"Задачи с id = "+(0,i.zw)(t.$route.params.id)+" нет",1))}var _={data(){return{title:"",descr:"",tags:null,date:null}},methods:{updateTask(){const t={id:this.task.id,title:this.title,descr:this.descr,date:this.date.date};this.$store.dispatch("updateTask",t),this.$router.push("/list")},changeStatus(){this.$store.dispatch("changeStatus",this.task.id),this.$router.push("/list")},deleteTask(){this.$store.dispatch("deleteTask",this.task.id),this.$router.push("/list")},destroyed(){this.tags&&this.tags.destroy&&this.tags.destroy(),this.date&&this.date.destroy&&this.date.destroy()}},computed:{task(){return this.$store.getters.taskById(+this.$route.params.id)}},mounted(){this.title=this.task.title,this.descr=this.task.descr,this.tags=M.Chips.init(this.$refs.chips,{placeholder:"Добавить тэг",data:this.task.tags}),this.date=M.Datepicker.init(this.$refs.datepicker,{format:"dd.mm.yyyy",defaultDate:new Date(this.task.date),setDefaultDate:!0}),setTimeout((()=>{M.updateTextFields()}),0)}},g=s(744);const b=(0,g.Z)(_,[["render",m],["__scopeId","data-v-366c2d83"]]);var v=b}}]);
//# sourceMappingURL=15.23ada0a2.js.map